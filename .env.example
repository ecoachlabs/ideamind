# IdeaMine Environment Configuration

# ====================
# DATABASE CONFIGURATION
# ====================
# You can configure the database connection in two ways:
#
# Option 1 (RECOMMENDED for Docker): Use DATABASE_URL connection string
# This matches the docker-compose.yml PostgreSQL configuration
DATABASE_URL=postgresql://ideamine:ideamine_dev_password@localhost:5432/ideamine
DATABASE_POOL_SIZE=20
#
# Option 2 (Alternative): Use individual environment variables
# Uncomment these if you prefer individual variables:
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=ideamine
# DB_USER=ideamine
# DB_PASSWORD=ideamine_dev_password
# DB_MAX_CONNECTIONS=20
#
# SSL Configuration (optional, for production)
# DB_SSL=true
# DB_SSL_CA=/path/to/ca-certificate.crt
# DB_SSL_CERT=/path/to/client-cert.crt
# DB_SSL_KEY=/path/to/client-key.key

# NATS Event Bus
NATS_URL=nats://localhost:4222
NATS_CLUSTER_ID=ideamine-cluster

# Qdrant Vector DB
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# MinIO Object Storage
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_ARTIFACTS_BUCKET=artifacts
MINIO_LOGS_BUCKET=logs

# Redis Cache
REDIS_URL=redis://localhost:6379

# Vault Secrets
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=root

# OpenTelemetry / Observability
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
JAEGER_ENDPOINT=http://localhost:14268/api/traces
PROMETHEUS_PUSHGATEWAY=http://localhost:9091

# LLM Configuration
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...
DEFAULT_LLM_MODEL=gpt-4-turbo-preview
DEFAULT_LLM_TEMPERATURE=0.7
DEFAULT_LLM_MAX_TOKENS=4096

# Workflow Configuration
DEFAULT_WORKFLOW_BUDGET_USD=100.00
DEFAULT_WORKFLOW_MAX_TOKENS=1000000
DEFAULT_WORKFLOW_MAX_RETRIES=3

# Tool Executor Configuration
TOOL_EXECUTOR_TIMEOUT_SECONDS=300
TOOL_EXECUTOR_MAX_MEMORY_MB=512
TOOL_EXECUTOR_MAX_CPU_CORES=1
DOCKER_HOST=unix:///var/run/docker.sock

# Security
JWT_SECRET=your-secret-key-here
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Feature Flags
ENABLE_GATE_AUTO_APPROVAL=false
ENABLE_HUMAN_REVIEW=true
ENABLE_COST_ALERTS=true
ENABLE_TELEMETRY=true

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
