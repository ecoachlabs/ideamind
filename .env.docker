# IdeaMine Docker Environment Configuration
# This file contains environment variables configured to work with docker-compose.yml
#
# USAGE:
#   docker-compose --env-file .env.docker up -d
#
# Or create a .env file by copying this:
#   cp .env.docker .env

# ====================
# DATABASE CONFIGURATION
# ====================
# PostgreSQL connection - matches docker-compose.yml postgres service
DATABASE_URL=postgresql://ideamine:ideamine_dev_password@localhost:5432/ideamine
DATABASE_POOL_SIZE=20

# Note: When connecting FROM a Docker container TO another Docker container,
# use the service name instead of localhost:
# DATABASE_URL=postgresql://ideamine:ideamine_dev_password@postgres:5432/ideamine

# ====================
# EVENT BUS (NATS)
# ====================
NATS_URL=nats://localhost:4222
NATS_CLUSTER_ID=ideamine-cluster

# ====================
# VECTOR DATABASE (Qdrant)
# ====================
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# ====================
# OBJECT STORAGE (MinIO)
# ====================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_ARTIFACTS_BUCKET=artifacts
MINIO_LOGS_BUCKET=logs

# ====================
# CACHE (Redis)
# ====================
REDIS_URL=redis://localhost:6379

# ====================
# SECRETS MANAGEMENT (Vault)
# ====================
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=root

# ====================
# OBSERVABILITY
# ====================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
JAEGER_ENDPOINT=http://localhost:14268/api/traces
PROMETHEUS_PUSHGATEWAY=http://localhost:9091

# ====================
# LLM CONFIGURATION
# ====================
# IMPORTANT: Set your actual API keys here
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...
DEFAULT_LLM_MODEL=gpt-4-turbo-preview
DEFAULT_LLM_TEMPERATURE=0.7
DEFAULT_LLM_MAX_TOKENS=4096

# ====================
# WORKFLOW CONFIGURATION
# ====================
DEFAULT_WORKFLOW_BUDGET_USD=100.00
DEFAULT_WORKFLOW_MAX_TOKENS=1000000
DEFAULT_WORKFLOW_MAX_RETRIES=3

# ====================
# TOOL EXECUTOR CONFIGURATION
# ====================
TOOL_EXECUTOR_TIMEOUT_SECONDS=300
TOOL_EXECUTOR_MAX_MEMORY_MB=512
TOOL_EXECUTOR_MAX_CPU_CORES=1
DOCKER_HOST=unix:///var/run/docker.sock

# ====================
# SECURITY
# ====================
# IMPORTANT: Change these in production!
JWT_SECRET=your-secret-key-here
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ====================
# FEATURE FLAGS
# ====================
ENABLE_GATE_AUTO_APPROVAL=false
ENABLE_HUMAN_REVIEW=true
ENABLE_COST_ALERTS=true
ENABLE_TELEMETRY=true

# ====================
# LOGGING
# ====================
LOG_LEVEL=info
LOG_FORMAT=json

# ====================
# NODE ENVIRONMENT
# ====================
NODE_ENV=development
